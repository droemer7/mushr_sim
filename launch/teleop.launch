<!-- -*- mode: XML -*- -->
<launch>
    <!-- Car name functions as the namespace for this car instance -->
    <arg name="car_name" default="car" />

    <!-- Set to 1 if you want to run the map_server -->
    <arg name="map_server" default="1" />

    <!-- Launch  map server -->
    <group if="$(arg map_server)">
        <include file="$(find mushr_sim)/launch/map_server.launch" />
    </group>

    <!-- Launch car -->
    <group ns="$(arg car_name)">
        <remap from="/$(arg car_name)/initialpose" to="/initialpose" />

        <include file="$(find mushr_sim)/launch/single_car.launch">
            <arg name="car_name" value="$(arg car_name)" />
            <arg name="racecar_version" value="racecar-uw-nano" />
         </include>
    </group>

</launch>
